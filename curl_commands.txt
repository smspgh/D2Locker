# DIM API Curl Commands

# 1. Root Health Check
curl -k https://localhost:8443/

# 2. Platform Info (No auth required)
curl -k https://localhost:8443/api/platform_info

# 3. Auth Token
curl -k -X POST https://localhost:8443/api/auth/token -H "Content-Type: application/json" -H "X-API-Key: 788600d2-9320-484e-86dd-5f5c9c458b66"

# 4. Get Profile - All data
curl -k https://localhost:8443/api/profile -H "X-API-Key: 788600d2-9320-484e-86dd-5f5c9c458b66" -G --data-urlencode "platformMembershipId=123456789" --data-urlencode "destinyVersion=2"

# 5. Get Profile - Specific components
curl -k https://localhost:8443/api/profile -H "X-API-Key: 788600d2-9320-484e-86dd-5f5c9c458b66" -G --data-urlencode "platformMembershipId=123456789" --data-urlencode "destinyVersion=2" --data-urlencode "components=settings,loadouts"

# 6. Update Profile
curl -k -X POST https://localhost:8443/api/profile -H "Content-Type: application/json" -H "X-API-Key: 788600d2-9320-484e-86dd-5f5c9c458b66" -d '{"platformMembershipId": "123456789", "destinyVersion": 2, "updates": [{"action": "setting", "payload": {"theme": "dark", "language": "en"}}]}'

# 7. Delete All Data
curl -k -X POST https://localhost:8443/api/delete_all_data -H "Content-Type: application/json" -H "X-API-Key: 788600d2-9320-484e-86dd-5f5c9c458b66" -d '{"platformMembershipId": "123456789", "destinyVersion": 2}'